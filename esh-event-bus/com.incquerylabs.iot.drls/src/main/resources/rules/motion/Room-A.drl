package homeioexample


rule "A Lights Motion"
    when
        $light : Item( name == "A_Lights_Analog", $lightState : state)
        $brigthnessSensor : Item( name == "A_Brightness_Sensor", $brightnesSesnsorState: state)

        $itemState : ItemStateChangedEvent( name == "A_Motion_Detector", $motionDetectorState : newState)
    then
        System.out.println( "IncQuery droolsbundle: " + drools.getRule().getName());
        
        if (!$lightState.equals(ZERO) && $motionDetectorState == CLOSED) {
            //openhab.postCommand($light, ZERO);
        } else if ($lightState.equals(ZERO) && $motionDetectorState == OPEN && $brightnesSesnsorState == OPEN) {
            openhab.postCommand($light, HUNDRED);
        }
end